<Window x:Class="AlMohasebAlAraby.Desktop.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="المحاسب العربي - الإصدار المصري" 
        Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        Icon="/Resources/Images/app-icon.ico">

    <materialDesign:DialogHost Identifier="RootDialog">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- شريط القوائم العلوي -->
            <materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16">
                <DockPanel>
                    <!-- شعار التطبيق -->
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="Calculator" Width="32" Height="32" Foreground="White" VerticalAlignment="Center"/>
                        <TextBlock Text="المحاسب العربي - الإصدار المصري" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="White" 
                                   VerticalAlignment="Center" 
                                   Margin="10,0,0,0"/>
                    </StackPanel>

                    <!-- معلومات المستخدم والتاريخ -->
                    <StackPanel DockPanel.Dock="Left" Orientation="Horizontal">
                        <Button x:Name="btnUserProfile" 
                                Style="{StaticResource MaterialDesignIconForegroundButton}"
                                Foreground="White"
                                ToolTip="ملف المستخدم">
                            <materialDesign:PackIcon Kind="Account" Width="24" Height="24"/>
                        </Button>
                        <TextBlock x:Name="txtUserInfo" 
                                   Text="مرحباً، مدير النظام" 
                                   Foreground="White" 
                                   VerticalAlignment="Center" 
                                   Margin="10,0"/>
                        <Separator Foreground="White" Margin="10,0"/>
                        <materialDesign:PackIcon Kind="Calendar" Width="20" Height="20" Foreground="White" VerticalAlignment="Center"/>
                        <TextBlock x:Name="txtCurrentDate" 
                                   Text="{Binding Source={x:Static sys:DateTime.Now}, StringFormat='dd/MM/yyyy'}" 
                                   Foreground="White" 
                                   VerticalAlignment="Center" 
                                   Margin="5,0,0,0"/>
                    </StackPanel>

                    <!-- أزرار سريعة -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button x:Name="btnQuickSale" 
                                Style="{StaticResource MaterialDesignIconForegroundButton}"
                                Foreground="White"
                                ToolTip="بيع سريع"
                                Margin="5">
                            <materialDesign:PackIcon Kind="CashRegister" Width="24" Height="24"/>
                        </Button>
                        <Button x:Name="btnQuickPurchase" 
                                Style="{StaticResource MaterialDesignIconForegroundButton}"
                                Foreground="White"
                                ToolTip="شراء سريع"
                                Margin="5">
                            <materialDesign:PackIcon Kind="ShoppingCart" Width="24" Height="24"/>
                        </Button>
                        <Button x:Name="btnQuickReceipt" 
                                Style="{StaticResource MaterialDesignIconForegroundButton}"
                                Foreground="White"
                                ToolTip="سند قبض"
                                Margin="5">
                            <materialDesign:PackIcon Kind="CashPlus" Width="24" Height="24"/>
                        </Button>
                        <Button x:Name="btnQuickPayment" 
                                Style="{StaticResource MaterialDesignIconForegroundButton}"
                                Foreground="White"
                                ToolTip="سند صرف"
                                Margin="5">
                            <materialDesign:PackIcon Kind="CashMinus" Width="24" Height="24"/>
                        </Button>
                    </StackPanel>
                </DockPanel>
            </materialDesign:ColorZone>

            <!-- المحتوى الرئيسي -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="250"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- القائمة الجانبية -->
                <materialDesign:ColorZone Grid.Column="0" Mode="Light" Padding="0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <!-- لوحة المعلومات -->
                            <Expander Header="لوحة المعلومات" IsExpanded="True" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnDashboard" Style="{StaticResource MenuItemStyle}" Click="btnDashboard_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="ViewDashboard" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="الرئيسية"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- المحاسبة -->
                            <Expander Header="المحاسبة" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnChartOfAccounts" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="AccountTree" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="دليل الحسابات"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnJournalEntries" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="BookOpen" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="قيود اليومية"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnGeneralLedger" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Book" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="دفتر الأستاذ"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- المخزون -->
                            <Expander Header="إدارة المخزون" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnProducts" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Package" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="الأصناف"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnCategories" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Tag" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="التصنيفات"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnStockMovements" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="TruckDelivery" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="حركات المخزون"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- المبيعات -->
                            <Expander Header="المبيعات" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnSalesInvoices" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Receipt" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="فواتير المبيعات"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnCustomers" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="AccountGroup" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="العملاء"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- المشتريات -->
                            <Expander Header="المشتريات" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnPurchaseInvoices" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="ShoppingCart" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="فواتير المشتريات"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnSuppliers" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="TruckDelivery" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="الموردين"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- التقسيط -->
                            <Expander Header="إدارة التقسيط" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnInstallmentContracts" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="FileDocument" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="عقود التقسيط"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnInstallmentPayments" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="CashMultiple" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="دفعات الأقساط"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- الصيدلية -->
                            <Expander Header="إدارة الصيدلية" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnMedicines" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Pill" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="الأدوية"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnPharmacyPOS" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="CashRegister" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="نقطة البيع"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- الموارد البشرية -->
                            <Expander Header="الموارد البشرية" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnEmployees" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="AccountMultiple" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="الموظفين"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnPayroll" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="CashMultiple" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="الرواتب"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- التقارير -->
                            <Expander Header="التقارير" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnFinancialReports" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="ChartLine" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="التقارير المالية"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnInventoryReports" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="ChartBar" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="تقارير المخزون"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>

                            <!-- الإعدادات -->
                            <Expander Header="الإعدادات" Margin="5">
                                <StackPanel>
                                    <Button x:Name="btnCompanySettings" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Domain" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="بيانات الشركة"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnSystemSettings" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Settings" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="إعدادات النظام"/>
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnBackup" Style="{StaticResource MenuItemStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Backup" Width="20" Height="20" Margin="0,0,10,0"/>
                                            <TextBlock Text="النسخ الاحتياطي"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Expander>
                        </StackPanel>
                    </ScrollViewer>
                </materialDesign:ColorZone>

                <!-- منطقة المحتوى -->
                <Grid Grid.Column="1" Background="{DynamicResource MaterialDesignPaper}">
                    <Frame x:Name="MainFrame" NavigationUIVisibility="Hidden"/>
                </Grid>
            </Grid>

            <!-- شريط الحالة -->
            <StatusBar Grid.Row="2" Style="{StaticResource StatusBarStyle}">
                <StatusBarItem>
                    <TextBlock x:Name="txtStatusMessage" Text="جاهز"/>
                </StatusBarItem>
                <StatusBarItem HorizontalAlignment="Left">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="الشركة: "/>
                        <TextBlock x:Name="txtCompanyName" Text="[لم يتم تعيين اسم الشركة]"/>
                    </StackPanel>
                </StatusBarItem>
                <StatusBarItem HorizontalAlignment="Left">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="الإصدار: "/>
                        <TextBlock Text="1.0.0"/>
                    </StackPanel>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </materialDesign:DialogHost>
</Window>
